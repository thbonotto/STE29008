/*
 * uart.c
 *
 *  Created on: 27 de out de 2015
 *      Author: aluno
 */

#include <avr/io.h>

uint8_t data;

void setup() {
	data = 0;
	UBRR0L = 103;
	UBRRH = 0;
	UCSRC = 0x06;
}

int uart_has_data(){

}

void uart_receive_data(){

}

void uart_send_data(){
	while(!(UCSR0A & 0x20));
		UDR0 = data++;
}

void loop(){
	if(uart_has_data()) {
		uart_receive_data();
		data += 1;
		uart_send_data();
	}
}

int main(){
	setup();
	while(1)
		loop();
}
